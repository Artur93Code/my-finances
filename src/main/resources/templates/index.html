<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <title>
        Hello World!
    </title>
</head>
<body>
<h1 th:inline="text">Hello [[${#httpServletRequest.remoteUser}]]!</h1>

<h2>Your current account saldo: [[${saldo}]]<!--<p th:text="${saldo}" />-->z≈Ç</h2>
<!--<p th:text="${email}" />-->
<table>
<tr>
    <th>Type</th>
    <th>Amount</th>
    <th>Description</th>
    <th>Date of transaction</th>
</tr>
<tr th:each="transaction: ${transactions}">
    <td th:text="${transaction.type}"></td>
    <td th:text="${transaction.amount}"></td>
    <td th:text="${transaction.description}"></td>
    <td th:text="${transaction.dot}"></td>
    <td>
        <form th:action="@{'/transaction/delete/{id}'(id=${transaction.id})}" method="post">
            <!--<input type="hidden" name="id" th:value="${transaction.id}">-->
            <button type="submit">Delete</button>
        </form>
    </td>
<!--    <td><a href="#" th:text="${finance.title}">Title ...</a></td>
    <td th:text="${message.text}">Text ...</td>-->
</tr>
</table>

<form action="/transaction/add" method="post">
    <div>
        <label>Type:</label>
        <select name="type">
            <option value="income">Income</option>
            <option value="expenditiure">Expenditiure</option>
        </select>
    </div>
    <div>
        <label> Amount: <input type="number" step="0.01" name="amount" required/> </label>
    </div>
    <div>
        <label> Description: <input type="text" name="description" required/> </label>
    </div>
    <div>
        <label for="dot">Date of transaction: <input type="date" name="dot" id="dot" required/></label>
    </div>
    <div>
        <input type="submit" value="Add transaction" /> </div>
</form>

<form th:action="@{/logout}" method="post">
    <input type="submit" value="Sign Out"/>
</form>
</body>
<html>